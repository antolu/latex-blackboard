\NeedsTeXFormat{LaTeX2e}[1994/06/01]
% !TEX program = XeLaTeX
\ProvidesPackage{blackboard}[2016/11/01 Mall för skolarbeten]

\RequirePackage[swedish]{babel}
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{fontspec}
\RequirePackage{xcolor}
\RequirePackage[margin=1in, bottom=1.3in]{geometry}
% För att kunna skriva ordentiga mattesymboler
\RequirePackage{amssymb}
\RequirePackage{amsmath}
\RequirePackage{physics}
\RequirePackage{bm}
\RequirePackage{tikz, calc}

% För att kunna se till så att figurer gör som jag vill
\RequirePackage{wrapfig}
\RequirePackage{multicol}
\RequirePackage{subcaption}
\RequirePackage{enumitem}

% För att kunna bifoga mjukvarukod
\RequirePackage{listings}

% För att kunna anpassa utseended på varje sida
\RequirePackage{etoolbox}
\RequirePackage{lastpage}
\RequirePackage{titlesec}
\RequirePackage{fancyhdr}
\RequirePackage{changepage}
\RequirePackage{scrextend}
\RequirePackage{xkeyval}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%	Om det är föreläsning/övning		%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\providecommand{\classno}[1]{\def\@class{#1}}

\newtoggle{isHandin}
\togglefalse{isHandin} % Om dokumentet i fråga är en inlämningsuppgift


\DeclareOption{lecture}{\def\@classtype{Föreläsning}}
\DeclareOption{exercise}{\def\@classtype{Övning}}
\DeclareOption{handin}{\def\@classtype{Inlämningsuppgift} %
	\toggletrue{isHandin}
	}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%	Vilken kurs som behandlas			%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareOption{SF1544}{\def\@coursecode{SF1544} \def\@coursename{Numeriska metoder, grundkurs IV} }
\DeclareOption{SF1629}{\def\@coursecode{SF1629 del II} \def\@coursename{Fourieranalys} }
\DeclareOption{SG1113}{\def\@coursecode{SG1113} \def\@coursename{ Mekanik fortsättningskurs} }
\DeclareOption{SH1012}{\def\@coursecode{SH1012} \def\@coursename{Modern Fysik} }
\DeclareOption{SF1901}{\def\@coursecode{SF1901} \def\@coursename{Sannolikhetsteori och statistik} }
\DeclareOption{SE1055}{\def\@coursecode{SE1055} \def\@coursename{Hållfasthetslära, med energimetoder} }
\DeclareOption{SI1140II}{\def\@coursecode{SI1140 del II} \def\@coursename{Partiella Differentialekvationer} }

\providecommand{\pnr}[1]{\def\@pnr{#1} }
\providecommand{\mail}[1]{\def\@mail{#1}}

% ----------------------------------------------------------------------- %
%		Generella inställningar för sidans utseende			%
% ----------------------------------------------------------------------- %

% Tar bort indentering vid nya stycken
\setlength{\parindent}{0pt}

%%%%%%%%%%%%%    Typsnitt    %%%%%%%%%%%%%%%%%%%
\defaultfontfeatures{Ligatures=TeX}
\newfontfamily\headingfont{Lato}

% Ställ typsnitt och spacing för rubriker
\titleformat*{\section}{\headingfont\fontsize{16}{18}\selectfont\bfseries}
%\titlespacing{\section}{0pt}{*2}{-5pt}
\titleformat*{\subsection}{\headingfont\fontsize{14}{16}\selectfont}

\titleformat*{\subsubsection}{\headingfont\large\itshape}
\titlespacing{\subsubsection}{0pt}{*2}{4pt}

% ----------------------------------------------------------------------------------------------- %
% 				Inställningar för sidans sidhuvud och sidfot								%
% ----------------------------------------------------------------------------------------------- %

\ifundef{\@classno}{%
	\def\@classno{X}
}{}

\renewcommand\headrulewidth{0pt}
\addtolength\voffset{-0.6cm}
\setlength\headheight{60pt}

\ifdefstring{\@author}{}{}{%
\author{Anton Lu}}
\ifdef{\@pnr}{}{%
	\pnr{960611 - 1475}
}
\ifdef{\@mail}{}{%
	\mail{antolu@kth.se}
}

\title{\@classtype ~ \@class}

\definecolor{header}{gray}{0.40} %Definierar en gråfärg som är 40% svart,  används i header och footer
\definecolor{footer}{HTML}{FF6600}

\pagenumbering{arabic} % Arabiska siffror i sidnumreringen

\lhead{%
	\textcolor{header}{% 
		\headingfont\textbf{\@title}\\
		\iftoggle{isHandin}{% Om det är en inlämningsuppgift, skriv ut namn och personnummer istället för datum och sidnummer
			\@author \\
			\@pnr
		}{%
			\ifdefstring{\@date}{}{
			}{\@date\\}
			Sid. \thepage~ av { \pageref{LastPage} }
		}
	}
}
\makeatletter

\rhead{%
	\textcolor{header}{% Skriv alltid ut kursnamn och kurskod i header
		\headingfont\textbf{\@coursename}\\
		\@coursecode \\
	}
}

\cfoot{%
	{\textcolor{footer}{\headingfont \textit{\@author - \large$\mathfrak{F}$\normalsize-15 - \@mail } } } 
}
\makeatother

\pagestyle{fancy}

\ProcessOptions\relax

% -------------------------------------------------------------------------- %
%		Nya kommandon för föreläsningsanteckningar		%
% -------------------------------------------------------------------------- %

\newcounter{def}
\stepcounter{def}
\newcounter{sats}
\stepcounter{sats}
\newcounter{exempel}
\stepcounter{exempel}

\newenvironment{sats}[1][]{\paragraph{Sats {\thesats}: #1}\stepcounter{sats} \begin{addmargin}[1em]{0em} }{ \end{addmargin} }
\newenvironment{definition}[1][]{\paragraph{Definition {\thedef}: #1}\stepcounter{def} \begin{addmargin}[1em]{0em} }{ \end{addmargin} \vspace*{12ptcm} }
\newenvironment{exempel}[1][]{\paragraph{Exempel {\theexempel}: #1}\stepcounter{exempel} \begin{addmargin}[1em]{0em} }{ \end{addmargin} }
\newenvironment{bevis}{\paragraph{\quad Bevis: }\begin{addmargin}[2em]{2em} }{ \end{addmargin} }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%	Kommandon för enklare matematik	%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Alltid snygga summatecken
\let\oldsum\sum
\renewcommand{\sum}{%
	\oldsum\limits %
}

% Alltid snygga integraltecken
\let\oldint\int
\renewcommand{\int}{\oldint\limits}

% Enkelt att skriva grader
\renewcommand{\deg}{^\circ}

% För att rita en trekvartscirkel med pil för momentekvationen
\newlength\SizeOfCirc
\newcommand{\CircArrowRight}[1]{%
	\setlength{\SizeOfCirc}{\maxof{\widthof{#1}}{\heightof{#1}}}%
	\tikz [x=1.0ex,y=1.0ex,line width=.15ex, draw=black, baseline=-\the\dimexpr\fontdimen22\textfont2\relax]%
	\draw [->,anchor=center]%
	node (0,0) {#1}%
	(0,-\SizeOfCirc) arc (-90:180:\SizeOfCirc);
}


% ------------------------------------------------------------ %
%	Definera nordiska bokstäver för listings	 %
% ------------------------------------------------------------ %

\lstset{literate=%
	{å}{{\aa}}1
	{ä}{{\"{a}}}1
	{ö}{{\"{o}}}1
	{Å}{{\AA}}1
	{Ä}{{\"{A}}}1
	{Ö}{{\"{O}}}1
}

\definecolor{mygreen}{RGB}{28,172,0} % color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}

\lstset{language=Matlab,%
	%basicstyle=\color{red},
	breaklines=true,%
	morekeywords={matlab2tikz},
	keywordstyle=\color{blue},%
	morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
	identifierstyle=\color{black},%
	stringstyle=\color{mylilas},
	commentstyle=\color{mygreen},%
	showstringspaces=false,%without this there will be a symbol in the places where there is a space
	numbers=left,%
	numberstyle={\tiny \color{black}},% size of the numbers
	numbersep=9pt, % this defines how far the numbers are from the text
	emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
	%emph=[2]{word1,word2}, emphstyle=[2]{style},    
}

\endinput
